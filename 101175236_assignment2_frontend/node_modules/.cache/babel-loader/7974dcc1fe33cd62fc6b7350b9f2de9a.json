{"ast":null,"code":"import _regeneratorRuntime from\"/Users/nuwanthika/Desktop/Demo_WEbapp/101175236_assignment2_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/nuwanthika/Desktop/Demo_WEbapp/101175236_assignment2_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/nuwanthika/Desktop/Demo_WEbapp/101175236_assignment2_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{useHistory}from\"react-router\";import{Grid,Typography,Button,Box,Table,TableBody,TableCell,TableContainer,TableHead,TableRow,Paper}from\"@mui/material\";import APIServices from\"../APIServices\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EmployeeList=function EmployeeList(){var history=useHistory();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];useEffect(function(){getEmployees();},[]);var getEmployees=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return APIServices.getEmployees();case 2:res=_context.sent;if(res.status===200){setData(res.data);}case 4:case\"end\":return _context.stop();}}},_callee);}));return function getEmployees(){return _ref.apply(this,arguments);};}();var addEmployee=function addEmployee(){history.push(\"/AddEmployee\",{params:null});};var handleUpdateEmployee=function handleUpdateEmployee(id){history.push(\"/AddEmployee\",{params:id});};var handleViewEmployee=function handleViewEmployee(firstName,lastName,emailId){var setDetails={fname:firstName,lname:lastName,email:emailId};history.push(\"/ViewEmployee\",{params:setDetails});};var handleDeleteEmployee=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id){var res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!window.confirm(\"Are you sure that you wanted to delete that use record?\")){_context2.next=5;break;}_context2.next=3;return APIServices.deleteEmployee(id);case 3:res=_context2.sent;if(res.status===200){getEmployees();}case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function handleDeleteEmployee(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(Grid,{container:true,justifyContent:\"center\",style:{padding:\"0.5rem 8rem 1rem 8rem\"},xs:12,children:[/*#__PURE__*/_jsx(Grid,{container:true,justifyContent:\"center\",xs:12,children:/*#__PURE__*/_jsx(Box,{mb:3,children:/*#__PURE__*/_jsx(Typography,{children:/*#__PURE__*/_jsx(\"h2\",{children:\"Employee List\"})})})}),/*#__PURE__*/_jsxs(Grid,{container:true,alignContent:\"center\",xs:12,lg:9,children:[/*#__PURE__*/_jsx(Grid,{container:true,item:true,justifyContent:\"flex-start\",xs:12,children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:addEmployee,children:/*#__PURE__*/_jsx(Typography,{children:\"Add Employee\"})})}),/*#__PURE__*/_jsx(Grid,{container:true,style:{marginTop:\"2rem\"},xs:12,children:/*#__PURE__*/_jsx(TableContainer,{component:Paper,children:/*#__PURE__*/_jsxs(Table,{\"aria-label\":\"simple table\",children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{style:{backgroundColor:\"#E5E7E9\"},children:[/*#__PURE__*/_jsx(TableCell,{width:\"20%\",children:/*#__PURE__*/_jsx(Typography,{children:\"Employee First Name\"})}),/*#__PURE__*/_jsx(TableCell,{width:\"20%\",children:/*#__PURE__*/_jsx(Typography,{children:\"Employee Last Name\"})}),/*#__PURE__*/_jsx(TableCell,{width:\"20%\",children:/*#__PURE__*/_jsx(Typography,{children:\"Employee Email ID\"})}),/*#__PURE__*/_jsx(TableCell,{width:\"40%\",children:/*#__PURE__*/_jsx(Typography,{children:\"Action\"})})]})}),/*#__PURE__*/_jsx(TableBody,{children:data.map(function(row,index){return/*#__PURE__*/_jsxs(TableRow,{sx:{\"&:last-child td, &:last-child th\":{border:0}},children:[/*#__PURE__*/_jsx(TableCell,{width:\"20%\",component:\"th\",scope:\"row\",children:/*#__PURE__*/_jsx(Typography,{children:row.firstName})}),/*#__PURE__*/_jsx(TableCell,{width:\"20%\",children:/*#__PURE__*/_jsx(Typography,{children:row.lastName})}),/*#__PURE__*/_jsx(TableCell,{width:\"20%\",children:/*#__PURE__*/_jsx(Typography,{children:row.emailId})}),/*#__PURE__*/_jsxs(TableCell,{width:\"40%\",children:[/*#__PURE__*/_jsx(Button,{style:{marginRight:\"10px\",color:\"white\",backgroundColor:\"#009688\"},onClick:function onClick(){return handleUpdateEmployee(row._id);},children:/*#__PURE__*/_jsx(Typography,{children:\"Update\"})}),/*#__PURE__*/_jsx(Button,{style:{marginRight:\"10px\",color:\"white\",backgroundColor:\"#ef5350\"},onClick:function onClick(){return handleDeleteEmployee(row._id);},children:/*#__PURE__*/_jsx(Typography,{children:\"Delete\"})}),/*#__PURE__*/_jsx(Button,{style:{marginRight:\"10px\",color:\"white\",backgroundColor:\"#0288d1\"},onClick:function onClick(){return handleViewEmployee(row.firstName,row.lastName,row.emailId);},children:/*#__PURE__*/_jsx(Typography,{children:\"View\"})})]})]},index);})})]})})})]})]});};export default EmployeeList;","map":{"version":3,"sources":["/Users/nuwanthika/Desktop/Demo_WEbapp/101175236_assignment2_frontend/src/components/EmployeeList.jsx"],"names":["React","useState","useEffect","useHistory","Grid","Typography","Button","Box","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","APIServices","EmployeeList","history","data","setData","getEmployees","res","status","addEmployee","push","params","handleUpdateEmployee","id","handleViewEmployee","firstName","lastName","emailId","setDetails","fname","lname","email","handleDeleteEmployee","window","confirm","deleteEmployee","padding","marginTop","backgroundColor","map","row","index","border","marginRight","color","_id"],"mappings":"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","sourcesContent":["import React, { useState , useEffect} from \"react\";\r\n\r\nimport { useHistory } from \"react-router\";\r\n\r\nimport {\r\n  Grid,\r\n  Typography,\r\n  Button,\r\n  Box,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TableRow,\r\n  Paper\r\n} from \"@mui/material\";\r\n\r\nimport APIServices from \"../APIServices\";\r\n\r\n\r\n\r\nconst EmployeeList = () => {\r\n\r\n  const history = useHistory();\r\n\r\n  const [data,setData]=useState([]);\r\n\r\n  useEffect(()=>{\r\n    getEmployees();\r\n  },[])\r\n \r\n  const getEmployees = async()=>{\r\n    const res= await APIServices.getEmployees();\r\n    if(res.status===200){\r\n      setData(res.data);\r\n    }\r\n  }\r\n \r\n  const addEmployee =()=>{\r\n    history.push(\"/AddEmployee\", {params: null})\r\n  }\r\n\r\n  const handleUpdateEmployee=(id)=>{\r\n    history.push(\"/AddEmployee\", {params: id});\r\n  }\r\n\r\n  const handleViewEmployee =(firstName, lastName,emailId)=>{\r\n    const setDetails= {fname:firstName, lname:lastName, email:emailId}; \r\n    history.push(\"/ViewEmployee\", {params: setDetails});    \r\n  }\r\n\r\n  const handleDeleteEmployee = async(id)=>{\r\n    if(window.confirm(\"Are you sure that you wanted to delete that use record?\")){\r\n        const res= await APIServices.deleteEmployee(id);\r\n        if(res.status===200){\r\n            getEmployees();\r\n        }        \r\n    } \r\n  };\r\n\r\n  return (\r\n    <Grid\r\n      container\r\n      justifyContent=\"center\"\r\n      style={{ padding: \"0.5rem 8rem 1rem 8rem\"}}\r\n      xs={12}\r\n    >\r\n      <Grid \r\n        container \r\n        justifyContent=\"center\" \r\n        xs={12}\r\n      >\r\n        <Box mb={3}>\r\n          <Typography>\r\n            <h2>Employee List</h2>\r\n          </Typography>\r\n        </Box>\r\n      </Grid>\r\n      <Grid \r\n        container\r\n        alignContent=\"center\"\r\n        xs={12}\r\n        lg={9}\r\n      >\r\n        <Grid \r\n          container \r\n          item \r\n          justifyContent=\"flex-start\" \r\n          xs={12}\r\n        >\r\n          <Button variant=\"contained\" onClick={addEmployee}>\r\n            <Typography>Add Employee</Typography>\r\n          </Button>\r\n        </Grid>\r\n        <Grid \r\n          container\r\n          style={{marginTop: \"2rem\"}} \r\n          xs={12}\r\n        >\r\n          <TableContainer component={Paper}>\r\n            <Table aria-label=\"simple table\">\r\n              <TableHead >\r\n                <TableRow style={{backgroundColor: \"#E5E7E9\" }}>\r\n                  <TableCell width=\"20%\">\r\n                    <Typography>Employee First Name</Typography>\r\n                  </TableCell>\r\n                  <TableCell  width=\"20%\" >\r\n                    <Typography>Employee Last Name</Typography>\r\n                  </TableCell>\r\n                  <TableCell  width=\"20%\" >\r\n                    <Typography>Employee Email ID</Typography>\r\n                  </TableCell>\r\n                  <TableCell  width=\"40%\" >\r\n                    <Typography>Action</Typography>\r\n                  </TableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n              <TableBody>\r\n                {data.map((row, index) => (\r\n                  <TableRow\r\n                    key={index}\r\n                    sx={{ \"&:last-child td, &:last-child th\": { border: 0 } }}\r\n                  >\r\n                    <TableCell width=\"20%\" component=\"th\" scope=\"row\">\r\n                     <Typography>{row.firstName}</Typography>\r\n                    </TableCell>\r\n                    <TableCell width=\"20%\"><Typography>{row.lastName}</Typography></TableCell>\r\n                    <TableCell width=\"20%\"><Typography>{row.emailId}</Typography></TableCell>\r\n                    <TableCell width=\"40%\">                     \r\n                      <Button  \r\n                        style={{marginRight:\"10px\", color: \"white\", backgroundColor: \"#009688\"}}\r\n                        onClick={()=>handleUpdateEmployee(row._id)}>\r\n                        <Typography>Update</Typography>\r\n                      </Button>                      \r\n                      <Button \r\n                        style={{marginRight:\"10px\", color: \"white\", backgroundColor: \"#ef5350\"}}\r\n                        onClick={()=>handleDeleteEmployee(row._id)}\r\n                      >\r\n                        <Typography>Delete</Typography>\r\n                      </Button>                                      \r\n                      <Button \r\n                        style={{marginRight:\"10px\", color: \"white\", backgroundColor: \"#0288d1\"}}\r\n                        onClick={()=>handleViewEmployee(row.firstName, row.lastName, row.emailId)}\r\n                      >\r\n                        <Typography>View</Typography>\r\n                      </Button>                                          \r\n                    </TableCell>\r\n                  </TableRow>\r\n                ))}\r\n              </TableBody>\r\n            </Table>\r\n          </TableContainer>\r\n        </Grid>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n};\r\nexport default EmployeeList;\r\n"]},"metadata":{},"sourceType":"module"}